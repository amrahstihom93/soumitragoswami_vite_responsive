document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("form#enquiry").forEach(r=>{r.addEventListener("submit",function(o){let e=!0,l=[];if(r.querySelectorAll("input[required], textarea[required], select[required]").forEach(t=>{t.value.trim()?t.classList.remove("border-red-500"):(e=!1,l.push(t.placeholder||t.name+" is required"),t.classList.add("border-red-500")),t.type==="email"&&t.value&&(/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t.value)||(e=!1,l.push("Please enter a valid email address"),t.classList.add("border-red-500"))),t.type==="tel"&&t.value&&(/^[0-9]{10}$/.test(t.value.replace(/\D/g,""))||(e=!1,l.push("Please enter a valid 10-digit phone number"),t.classList.add("border-red-500")))}),!e)o.preventDefault(),alert(l.join(`
`));else{o.preventDefault();const t=Math.floor(1e5+Math.random()*9e5).toString();i(t,r)}})});function i(r,o){let e=document.createElement("div");e.id="otp-modal",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.background="rgba(0,0,0,0.4)",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="9999",e.innerHTML=`
      <div style="background:#fff;padding:2rem 2rem 1.5rem 2rem;border-radius:1rem;box-shadow:0 2px 16px #0002;max-width:350px;width:100%;text-align:center;">
        <h3 style="font-size:1.2rem;font-weight:600;color:#2563eb;margin-bottom:0.5rem;">OTP Verification</h3>
        <p style="font-size:0.95rem;color:#444;margin-bottom:1rem;">Enter the OTP shown below to verify your enquiry.</p>
        <div style="font-size:1.5rem;font-weight:700;letter-spacing:0.2em;color:#2563eb;margin-bottom:1rem;">${r}</div>
        <input id="otp-input" type="text" maxlength="6" style="width:100%;border:1px solid #2563eb;border-radius:6px;padding:0.5rem 1rem;font-size:1.1rem;text-align:center;margin-bottom:1rem;" placeholder="Enter OTP">
        <button id="otp-verify-btn" style="background:#2563eb;color:#fff;font-weight:600;padding:0.5rem 1.5rem;border:none;border-radius:6px;cursor:pointer;font-size:1rem;">Verify</button>
        <div id="otp-error" style="color:#e11d48;font-size:0.95rem;margin-top:0.5rem;display:none;"></div>
      </div>
    `,document.body.appendChild(e),e.querySelector("#otp-input").focus(),e.querySelector("#otp-verify-btn").onclick=function(){var t;e.querySelector("#otp-input").value.trim()===r?(document.body.removeChild(e),alert("Thank you! Your enquiry has been verified and received. We will contact you soon."),o.reset(),(t=o.querySelector("input, textarea, select"))==null||t.focus()):(e.querySelector("#otp-error").textContent="Incorrect OTP. Please try again.",e.querySelector("#otp-error").style.display="block")}}});
